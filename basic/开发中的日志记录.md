我们对日志的要求至少要做到，能找到对应的机器，找到哪个用户做了些什么

要知道用户做了什么。用户信息是很重要的一个信息，能帮助海量日志里面能快速找到目标日志。
在log4j中有相应的配置，log4j有个叫MDC(Mapped Diagnostic Context)的类（
技术上使用了ThreadLocal实现，重点技术）。具体使用方法请自行查询。具体使用如下：



## 记录

**1. 修改（包括新增）操作必须打印日志**

大部分问题都是修改导致的。数据修改必须有据可查。



**2. 条件分支必须打印条件值，重要参数必须打印**

尤其是分支条件的参数，打印后就不用分析和猜测走那个分支了，很重要！如下面代码里面的userType，一定要打印值，因为他决定了代码走那个分支。


**3. 数据量大的时候需要打印数据量**

前后打印日志和最后的数据量，主要用于分析性能，能从日志中知道查询了多少数据用了多久。
